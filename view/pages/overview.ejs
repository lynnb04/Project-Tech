<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/overview.css">
</head>
<body>
    <%- include('../partials/header'); %>
    <main>

            <!-- Zoekbalk -->
    <form method="GET" action="/concerten" role="search" aria-label="Zoek concerten" class="search-bar">
        <input 
          type="search" 
          name="q" 
          placeholder="Zoek concerten..." 
          value="<%= typeof query !== 'undefined' ? query : '' %>"
        />
      </form>
  
      <!-- Filter en Sorteer knoppen -->
      <nav class="controls">
        <button type="button">Filter</button>
        <button type="button">Sorteren</button>
      </nav>

    <!-- Concert cards -->
    <% events.forEach(function(event) { %>
        <article class="concert-card">
          <img src="<%= event.images[2].url %>" alt="Foto van <%= event.name %>">
      
          <section class="concert-card-content">
            <h1><%= event.name %></h1>
      
            <div class="concert-tags">
              <% if (
                event.classifications &&
                event.classifications.length > 0 &&
                event.classifications[0].genre &&
                event.classifications[0].genre.name
              ) { %>
                <p><strong>Genre:</strong> <span class="tag"><%= event.classifications[0].genre.name %></span></p>
              <% } else { %>
                <p><strong>Genre:</strong> <span class="tag">Niet beschikbaar</span></p>
              <% } %>
      
              <% if (
                event.classifications &&
                event.classifications.length > 0 &&
                event.classifications[0].subGenre &&
                event.classifications[0].subGenre.name
              ) { %>
                <p><strong>Subgenre:</strong> <span class="tag"><%= event.classifications[0].subGenre.name %></span></p>
              <% } else { %>
                <p><strong>Subgenre:</strong> <span class="tag">Niet beschikbaar</span></p>
              <% } %>
            </div>
      
            <p class="concert-date"><strong>Datum:</strong> <%= event.dates.start.localDate %></p>
            <p class="concert-date"><strong>Stad:</strong> <%= event._embedded.venues[0].city.name %></p>
          </section>
        </article>
      <% }); %>      
    </main>
    <%- include('../partials/footer'); %>
</body>
</html>